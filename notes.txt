<!-- add new todo -->
  <form action="/todo" method="POST">
    <input type="text" name="todo[text]" id="" placeholder="Todo" required>
    <input type="submit" value="submit">
  </form>

  <h1>Todos for today</h1>

  <% todos.forEach(function(todo){%>
  <ul>


    <form action=" /todo/delete/<%=todo.id%>?_method=DELETE" method="POST">
      <li class="<%= todo.done %>"><%= todo.text %></li>
      <button type="submit">Delete</button>
    </form>
    <!-- Toggle done -->
    <form action="/todo/update/<%= todo._id %>?_method=PUT" method="POST">
      <button type="submit" name="todo[done]">Done</button>
    </form>

  </ul>
  <%}) %>
  <!-- Delete all todos from list -->
  <form action="/todo/delete/all?_method=DELETE" method="POST">
    <button type="submit">DELETE ALL!!!!</button>
  </form>




  ============================ Home Page ==============

<% user.forEach(function(user){ %>


<a href="/todo/<%= user._id %> "> <%= user.username %> </a>
<% }); %>




todo.save();
          user.todo.push(todo);
          user.save();
          res.render('todo');


            <!-- Toggle done -->
  <!-- <form action="/todo/update/<%= todo._id %>?_method=PUT" method="POST">
    <button type="submit" name="todo[done]">Done</button>
  </form> -->




    (req.user.id, { $pull: { $or: dAllTodo.id } }{
    if(err) {
      console.log(err)
    } else {
      Todo.deleteMany({}, function (err, dAllTodo)
    }
    res.redirect('/todo')
    console.log(req.user.todos)
  })



router.delete("/todo/delete/all", isLoggedIn, function (req, res) {
  // console.log(req.user)
  User.findByIdAndUpdate(req.user.id, { $pull: { todos: req.user.todos } }, function (err) {
    if (err) {
      console.log(err)
    } else {
      Todo.deleteMany({}, function (err, dAllTodo) {
        if (err) {
          console.log(err)
        } else {
          res.redirect('/todo')
          console.log(req.user.todos)
        }
      })
    }
  })
})